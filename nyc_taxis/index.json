{
  "settings": {
    "index.number_of_shards": {{number_of_shards | default(1)}},
    "index.number_of_replicas": {{number_of_replicas | default(0)}},
    "index.requests.cache.enable": false
  },
  "mappings": {
    "type": {
      "_source": {
        "enabled": {{ source_enabled | default(true) | tojson }}
      },
      "properties": {
        "surcharge": {
          "type": "float"
        },
        "dropoff_datetime": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "trip_type": {
          "type": "string",
          "index": "not_analyzed"
        },
        "mta_tax": {
          "type": "float"
        },
        "rate_code_id": {
          "type": "string",
          "index": "not_analyzed"
        },
        "passenger_count": {
          "type": "integer"
        },
        "pickup_datetime": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss"
        },
        "tolls_amount": {
          "type": "float"
        },
        "tip_amount": {
          "type": "float"
        },
        "payment_type": {
          "type": "string",
          "index": "not_analyzed"
        },
        "extra": {
          "type": "float"
        },
        "vendor_id": {
          "type": "string",
          "index": "not_analyzed"
        },
        "store_and_fwd_flag": {
          "type": "string",
          "index": "not_analyzed"
        },
        "improvement_surcharge": {
          "type": "float"
        },
        "fare_amount": {
          "type": "float"
        },
        "ehail_fee": {
          "type": "float"
        },
        "cab_color": {
          "type": "string",
          "index": "not_analyzed"
        },
        "dropoff_location": {
          "type": "geo_point"
        },
        "vendor_name": {
          "type": "string"
        },
        "total_amount": {
          "type": "float"
        },
        "trip_distance": {
          "type": "float"
        },
        "pickup_location": {
          "type": "geo_point"
        }
      },
      "_all": {
        "enabled": false
      },
      "dynamic": "strict"
    }
  }
}